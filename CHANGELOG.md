# 更新日志 (CHANGELOG)

## [1.3.0] - 2025-05-26

### 修复
- 🐛 **修复翻译完成后卡住问题**：解决了BrokenPipeError导致的页面卡顿
- 🔧 **优化表单提交流程**：改为AJAX异步提交，避免Socket.IO连接中断

### 改进
- ⚡ **性能优化**：
  - 移除了批量处理的休息延迟，提升翻译速度
  - 对于660个项目，可节省约66秒的等待时间
- 🎯 **用户体验提升**：
  - 提交按钮显示"翻译中..."状态和旋转图标
  - 翻译完成后自动跳转到成功页面
  - 页面加载时自动重置进度条状态
- 🧹 **界面优化**：
  - 移除了成功页面无用的"刷新页面"按钮
  - 改进了进度显示的即时性

### 技术更新
- 使用Fetch API替代传统表单提交
- 添加了`/success`路由处理成功页面
- 通过Socket.IO发送完成信号和重定向URL
- 优化了错误处理机制

## [1.2.0] - 2025-05-26

### 新增功能
- 🎯 **详细进度追踪**：实现了项目级的翻译进度追踪
  - 显示当前翻译的具体键值对
  - 显示已完成项数和总项数
  - 实时更新翻译进度百分比
  - 为每种语言计算独立的进度范围

### 改进
- 📊 **进度显示优化**：
  - 添加了进度回调函数到所有翻译函数
  - 改进了Socket.IO进度消息格式
  - 提供更详细的状态信息

### 技术更新
- 修改了 `translate.py` 中的翻译函数，添加了 `progress_callback` 参数
- 更新了 `app.py` 中的进度处理逻辑
- 改进了多语言翻译时的进度计算算法

## [1.1.0] - 2025-05-26

### 修复
- 🐛 **移除文件大小限制**：删除了500项的文件大小限制
- 🔧 **优化API参数**：恢复正常的批处理大小和请求间隔
- 💰 **计费问题处理**：更新错误消息，指向计费账号检查

### 新增
- 📚 **文档完善**：
  - 添加了 `BILLING_TROUBLESHOOTING.md` 计费问题排查指南
  - 添加了 `CLAUDE_API_SETUP.md` Claude API使用指南
  - 添加了 `CREATE_NEW_PROJECT.md` 新项目创建指南
  - 添加了 `API_USAGE_TIPS.md` API使用建议

### 功能
- 🤖 **Claude API支持**：添加了使用Claude API作为翻译引擎的选项
- 🔍 **API状态检查**：添加了 `check_api_status.py` 工具
- ✂️ **文件分割工具**：添加了 `split_json.py` 用于分割大文件

## [1.0.0] - 2025-05-25

### 初始发布
- 🎯 **核心功能**：
  - 支持JavaScript和JSON文件翻译
  - 使用Google Cloud Translation API
  - 支持193种语言
  - 批量翻译和ZIP打包下载

- 🎨 **用户界面**：
  - 现代化Material Design界面
  - 拖拽上传支持
  - 智能语言搜索
  - 常用语言快选
  - 响应式设计

- 🚀 **性能特性**：
  - Socket.IO实时进度显示
  - 语言列表缓存
  - 异步处理
  - 错误重试机制 